(function(g){var window=this;'use strict';var qX=function(Q,W){g.L.call(this,{K:"button",lj:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],Z:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},V:[{K:"svg",Z:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},V:[{K:"g",Z:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},V:[{K:"g",Z:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
V:[{K:"path",Z:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.J=Q;this.listen("click",this.onClick,this);this.updateValue("title",g.pq(Q,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.Cq(W.Vp(),this.element))},W65=function(Q){g.L.call(this,
{K:"div",
Y:"ytp-miniplayer-ui"});this.X=!1;this.player=Q;this.W(Q,"minimized",this.NC);this.W(Q,"onStateChange",this.kCj);this.W(Q,"documentpictureinpicturechange",this.d7j)},xMp=function(Q,W){g.S$(Q.player.getRootNode(),"ytp-player-minimized",W)},DM1=function(Q){g.V1.call(this,Q);
this.U=new g.I0(this);this.B=new W65(this.player);this.B.hide();g.qf(this.player,this.B.element,4);Q.isMinimized()&&(this.load(),g.S$(Q.getRootNode(),"ytp-player-minimized",!0))};
g.n(qX,g.L);qX.prototype.onClick=function(){this.J.Wt("onExpandMiniplayer")};g.n(W65,g.L);g.R=W65.prototype;
g.R.show=function(){this.B=new g.Td(this.UY,null,this);this.B.start();if(!this.X){this.tooltip=new g.GH(this.player,this);g.y(this,this.tooltip);g.qf(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.XY=new g.Eo(this.player);g.y(this,this.XY);this.progressBar=new g.yL(this.player,this);g.y(this,this.progressBar);g.qf(this.player,this.progressBar.element,4);this.U=new g.L({K:"div",Y:"ytp-miniplayer-scrim"});g.y(this,this.U);this.U.Qj(this.element);this.W(this.U.element,"click",this.Sd);
var Q=new g.L({K:"button",lj:["ytp-miniplayer-close-button","ytp-button"],Z:{"aria-label":"Close"},V:[g.P4()]});g.y(this,Q);Q.Qj(this.U.element);this.W(Q.element,"click",this.Fv);Q=new qX(this.player,this);g.y(this,Q);Q.Qj(this.U.element);this.D=new g.L({K:"div",Y:"ytp-miniplayer-controls"});g.y(this,this.D);this.D.Qj(this.U.element);this.W(this.D.element,"click",this.Sd);var W=new g.L({K:"div",Y:"ytp-miniplayer-button-container"});g.y(this,W);W.Qj(this.D.element);Q=new g.L({K:"div",Y:"ytp-miniplayer-play-button-container"});
g.y(this,Q);Q.Qj(this.D.element);var x=new g.L({K:"div",Y:"ytp-miniplayer-button-container"});g.y(this,x);x.Qj(this.D.element);this.S=new g.IW(this.player,this,!1);g.y(this,this.S);this.S.Qj(W.element);W=new g.$u(this.player,this);g.y(this,W);W.Qj(Q.element);this.nextButton=new g.IW(this.player,this,!0);g.y(this,this.nextButton);this.nextButton.Qj(x.element);this.G=new g.n7(this.player,this,0);g.y(this,this.G);this.G.Qj(this.U.element);this.N=new g.L({K:"div",Y:"ytp-miniplayer-buttons"});g.y(this,
this.N);g.qf(this.player,this.N.element,4);Q=new g.L({K:"button",lj:["ytp-miniplayer-close-button","ytp-button"],Z:{"aria-label":"Close"},V:[g.P4()]});g.y(this,Q);Q.Qj(this.N.element);this.W(Q.element,"click",this.Fv);Q=new g.L({K:"button",lj:["ytp-miniplayer-replay-button","ytp-button"],Z:{"aria-label":"Close"},V:[g.ad()]});g.y(this,Q);Q.Qj(this.N.element);this.W(Q.element,"click",this.jUZ);Q=new qX(this.player,this);g.y(this,Q);Q.Qj(this.N.element);this.W(this.player,"presentingplayerstatechange",
this.mR);this.W(this.player,"appresize",this.OV);this.W(this.player,"fullscreentoggled",this.OV);this.OV();this.X=!0}this.player.getPlayerState()!==0&&g.L.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.R.hide=function(){this.B&&(this.B.dispose(),this.B=void 0);g.L.prototype.hide.call(this);this.player.isMinimized()||(this.X&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.R.U3=function(){this.B&&(this.B.dispose(),this.B=void 0);g.L.prototype.U3.call(this)};
g.R.Fv=function(){this.player.j("kevlar_watch_while_v2")||this.player.stopVideo();this.player.Wt("onCloseMiniplayer")};
g.R.jUZ=function(){this.player.playVideo()};
g.R.Sd=function(Q){if(Q.target===this.U.element||Q.target===this.D.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.R.NC=function(){xMp(this,this.player.isMinimized())};
g.R.d7j=function(){xMp(this,this.player.J4());g.S$(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.J4())};
g.R.E4=function(){this.progressBar.QA();this.G.QA()};
g.R.UY=function(){this.E4();this.B&&this.B.start()};
g.R.mR=function(Q){g.r(Q.state,32)&&this.tooltip.hide()};
g.R.OV=function(){var Q=this.player.hf().getPlayerSize().width;g.PhF(this.progressBar,0,Q,!1);g.e3(this.progressBar)};
g.R.kCj=function(Q){this.player.isMinimized()&&(Q===0?this.hide():this.show())};
g.R.Vp=function(){return this.tooltip};
g.R.CF=function(Q,W,x,D,K){var l=0,M=0,w=0,S=g.PR(Q);D=W&&(g.lf(W,"ytp-prev-button")||g.lf(W,"ytp-next-button"));if(W){x=g.lf(W,"ytp-play-button");var b=g.lf(W,"ytp-miniplayer-expand-watch-page-button");D?l=w=12:x?(W=g.np(W,this.element),w=W.x,l=W.y-12):b&&(w=g.lf(W,"ytp-miniplayer-button-top-left"),l=g.np(W,this.element),W=g.PR(W),w?(w=8,l=l.y+40):(w=l.x-S.width+W.width,l=l.y-20))}else w=x-S.width/2,M=25+(K||0);W=this.player.hf().getPlayerSize();K=l+(K||0);S=g.wS(w,0,W.width-S.width-12);K?(Q.style.top=
K+"px",Q.style.bottom=""):(Q.style.top="",Q.style.bottom=M+"px");Q.style.left=S+"px";M=g.lf(Q,"ytp-preview");Q.style.visibility=D&&M&&W.height<225?"hidden":""};g.n(DM1,g.V1);g.R=DM1.prototype;g.R.onVideoDataChange=function(){if(this.player.getVideoData()){var Q=this.player.getVideoAspectRatio(),W=16/9;Q=Q>W+.1||Q<W-.1;g.S$(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",Q)}};
g.R.create=function(){g.V1.prototype.create.call(this);this.U.W(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.R.AX=function(){return!1};
g.R.load=function(){this.player.hideControls();this.B.show()};
g.R.unload=function(){this.player.showControls();this.B.hide()};g.nM("miniplayer",DM1);})(_yt_player);
